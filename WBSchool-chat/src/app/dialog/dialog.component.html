<ng-container>
    <div class="container">
        <!-- header -->
        <div class="header">
            <div class="header__info">
                <div class="header__avatar">
                    <img src="../../assets/avatar.svg" alt="avatar" width="76px" height="75px">
                    <span></span>
                </div>
                <div class="header__name">
                    <p class="name">Swathi</p>
                    <span>Online</span>
                </div>
            </div>

            <div class="header__icon">
                <a><img src="../../assets/icon-phone.svg" alt="phone" class="phone" width="20px" height="20px" ></a>
                <a [matMenuTriggerFor]="blockMenu" class="menu"><mat-icon>more_vert</mat-icon></a>
                    <mat-menu #blockMenu="matMenu" >
                        <button (click)="deleteChat()" mat-menu-item>
                          <span>Очистить чат</span>
                        </button>
                    </mat-menu>
            </div>
        </div>
        <hr>

        <!-- message -->


        <div class="message">
            <div class="message__wrapper" #wrapper>
                <div *ngFor="let item of data"
                    [ngClass]="item.owner === myId ? 'message__wrapperBlue' : 'message__wrapperGrey'">
                    <span *ngIf="item.owner === myId">{{myUserName}}</span>
                    <div class="message__user" [ngClass]="item.owner === myId ? 'message__answer' : 'message__user'" [matMenuTriggerFor]="block">
                        <div>
                            <img *ngIf="!!item.imageOrFile" [src]="item.formatImage+item.imageOrFile" alt="" class="message__img">
                            <img *ngIf="itemFormat(item.text)" src={{item.text}} alt="" class="message__img">
                            <p class="message__text" *ngIf="!itemFormat(item.text)">{{item.text}}</p>
                        </div>
                    </div>
                    <span>{{item.expiresIn | date:'yyyy/MM/dd h:mm:ss a'}}</span>
                    <!-- <a class="comments" href="#">#comments</a> -->

                    <mat-menu #block="matMenu">
                        <button (click)="deleteMessage(item._id)" mat-menu-item>
                            <span>Удалить</span>
                        </button>
                        <button (click)="getMessage(item._id,item.text)" mat-menu-item>
                            <span>Изменить</span>
                        </button>
                    </mat-menu>
            </div>

        </div>
        <!-- message-send -->
        <hr>
        <div class="message__send">
                <div>
                    <div class="form_save_image" *ngIf="toggle">
                        <input  type="file" id="fileElem" multiple accept="image/*" #input>
                        <label for="fileElem" class="btn-add">Выберите файл</label>
                        <div class="btn-wrapper">
                        <button type="button" class="btn-green" (click)="[addImage(input), toggle = !toggle]">V</button>
                        <button type="button" class="btn-red" (click)="[toggle = !toggle, imageOrFile = '']">X</button>
                        </div>
                    </div> 
                </div>
                <div class="wrapper__send">
                    <div (click)="toggle = !toggle">
                        <img src="../../assets/icon-send.svg" alt="icon-send" class="btn">
                    </div>
                    <input type="text" [formControl]="message" (keydown)="sendMessage($event)">
                    <img src="../../assets/icon-smile.svg" alt="icon-smile" width="" height="" class="smile">
                    <img src="../../assets/icon-photo.svg" alt="icon-photo" class="photo" width="" height="">
                </div>
                    <img src="../../assets/icon-voice.svg" alt="icon-voice" class="voice" width="" height="">
            </div>
        </div>
    </div>
</ng-container>
